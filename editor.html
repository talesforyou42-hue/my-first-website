<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Manhwa Editor</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:"Segoe UI", Arial, sans-serif;
  background:#ececec;
}

/* TOP BAR */
.topbar{
  background:#111;
  color:#fff;
  padding:14px;
  text-align:center;
  font-weight:600;
}

/* WORKSPACE */
.workspace{
  display:flex;
  justify-content:center;
  padding:20px;
}

/* PAGE */
.page{
  background:white;
  width:380px;
  height:90vh;
  border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  position:relative;
  overflow:hidden;
}

/* PANEL */
.panel{
  position:absolute;
  width:160px;
  height:180px;
  border:2px dashed #aaa;
  border-radius:8px;
  background:#fafafa;
  padding:6px;
  resize:both;
  overflow:auto;
  cursor:move;
  font-size:0.85rem;
  color:#555;
}

.panel:focus{
  outline:none;
  border-color:#ff5f6d;
}

/* ADD BUTTON */
.add-panel{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:#ff5f6d;
  color:white;
  font-weight:600;
}
</style>
</head>

<body>

<div class="topbar">
  Manhwa Editor — Free Layout
</div>

<div class="workspace">
  <div class="page" id="page">

    <div class="panel" contenteditable="true" style="top:20px;left:20px;">
      Drag me • Resize me • Write scene
    </div>

    <button class="add-panel" onclick="addPanel()">+ Add Panel</button>
  </div>
</div>

<script>
const page = document.getElementById("page");

function makeDraggable(panel){
  let offsetX, offsetY, isDown = false;

  panel.addEventListener("mousedown", e => {
    isDown = true;
    offsetX = e.offsetX;
    offsetY = e.offsetY;
    panel.style.zIndex = 10;
  });

  document.addEventListener("mouseup", () => {
    isDown = false;
    panel.style.zIndex = 1;
  });

  document.addEventListener("mousemove", e => {
    if(!isDown) return;
    const rect = page.getBoundingClientRect();
    panel.style.left = (e.clientX - rect.left - offsetX) + "px";
    panel.style.top  = (e.clientY - rect.top - offsetY) + "px";
  });
}

function addPanel(){
  const panel = document.createElement("div");
  panel.className = "panel";
  panel.contentEditable = "true";
  panel.textContent = "New panel";
  panel.style.top = "40px";
  panel.style.left = "40px";
  page.appendChild(panel);
  makeDraggable(panel);
}

// make first panel draggable
makeDraggable(document.querySelector(".panel"));
</script>

</body>
</html>
